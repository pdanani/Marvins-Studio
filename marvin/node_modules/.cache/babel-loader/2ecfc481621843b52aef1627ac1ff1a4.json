{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/pawan/Desktop/Marvins-Studio/marvin/src/components/sidebar/Sidebar.js\";\nimport React from 'react';\nimport logo from '../../icons/marvins.png';\nimport { Link } from 'react-router-dom';\nimport CreatePlaylistModal from '../modals/CreatePlaylistModal';\nimport gql from 'graphql-tag';\nimport { Query } from 'react-apollo';\nimport { Dropdown, DropdownItem, DropdownMenu, DropdownToggle } from 'reactstrap';\nimport * as Icon from 'react-bootstrap-icons';\nimport { Toast } from 'react-bootstrap';\nconst GET_PLAYLIST = gql`\n    query playlist($playlistID: String) {\n        playlist(id: $playlistID) {\n            _id\n            title\n        }\n    }\n`;\n\nclass Sidebar extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      show: false,\n      showDropdown: false,\n      showCreateToast: false,\n      showLibraryToast: false\n    };\n\n    this.handleShow = () => {\n      this.setState({\n        show: true\n      });\n      console.log(\"sidebar modal done\");\n    };\n\n    this.handleClose = () => {\n      this.setState({\n        show: false\n      });\n      console.log(\"dosne\");\n    };\n\n    this.toggleDropdown = () => {\n      let currDropdown = this.state.showDropdown;\n      this.setState({\n        showDropdown: !currDropdown\n      });\n    };\n\n    this.handleShowCreateToast = () => {\n      this.setState({\n        showCreateToast: true\n      });\n    };\n\n    this.handleHideCreateToast = () => {\n      this.setState({\n        showCreateToast: false\n      });\n    };\n\n    this.handleShowLibraryToast = () => {\n      this.setState({\n        showLibraryToast: true\n      });\n    };\n\n    this.handleHideLibraryToast = () => {\n      this.setState({\n        showLibraryToast: false\n      });\n    };\n\n    console.log(\"Sidebar\");\n  }\n\n  render() {\n    let playlist;\n    let loggedIn = this.props.user != null;\n    return /*#__PURE__*/_jsxDEV(\"nav\", {\n      className: \"sticky-top\",\n      style: {\n        height: \"100vh\",\n        left: 0,\n        backgroundColor: '#1a1a1a'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" p-0 text-center \",\n        style: {\n          width: 200\n        },\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/app/home\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: logo,\n            height: \"80vh\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          action: \"/sidebar\",\n          method: \"post\",\n          onSubmit: () => {\n            this.props.history.push('/app/search');\n          },\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"searchText\",\n            className: \"border border-primary px-1 py-1 my-1  \",\n            type: \"text\",\n            style: {\n              borderRadius: 50,\n              width: \"85%\",\n              marginRight: 10,\n              lineHeight: 1\n            },\n            placeholder: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-1 pt-1 text-center w-100 display-block\",\n          style: {\n            background: '#3d8af7',\n            height: 115\n          },\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/app/home\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-outline-primary mb-1 w-75 py-1 bg-transparent btn-sidebar border-0\",\n              children: [/*#__PURE__*/_jsxDEV(Icon.House, {\n                className: \"mb-1 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 33\n              }, this), \" Home\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 25\n          }, this), this.props.user ? /*#__PURE__*/_jsxDEV(Link, {\n            to: `/app/profile/${this.props.user._id}`,\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn btn-outline-primary mb-1 w-75 py-1 bg-transparent btn-sidebar border-0\",\n              children: [/*#__PURE__*/_jsxDEV(Icon.Collection, {\n                className: \"mb-1 mr-1\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 33\n              }, this), \"Your Library\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 29\n            }, this), \"                        \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 44\n          }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline-primary mb-1 w-75 py-1 bg-transparent btn-sidebar border-0\",\n            onClick: this.handleShowLibraryToast,\n            children: [\" \", /*#__PURE__*/_jsxDEV(Icon.Collection, {\n              className: \"mb-1 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 163\n            }, this), \"Your Library\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline-primary mb-1 w-75 py-1 bg-transparent btn-sidebar border-0\",\n            onClick: () => {\n              if (loggedIn) this.handleShow();else this.handleShowCreateToast();\n            },\n            children: [\" \", /*#__PURE__*/_jsxDEV(Icon.PlusCircle, {\n              className: \"mb-1 mr-1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 33\n            }, this), \"Create Playlist\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-primary\",\n          children: \"My Playlists\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"sidebar-scroll\",\n          style: {\n            height: \"33vh\",\n            overflowY: \"scroll\"\n          },\n          children: [this.props.user != null ? this.props.user.ownedPlaylistsID.map((playlistID, index) => /*#__PURE__*/_jsxDEV(Query, {\n            pollInterval: 500,\n            query: GET_PLAYLIST,\n            variables: {\n              playlistID: playlistID\n            },\n            fetchPolicy: \"network-only\",\n            children: ({\n              loading,\n              error,\n              data\n            }) => {\n              if (loading) return 'Loading...';\n              if (error) return `Error! ${error.message}`;else playlist = data.playlist ? data.playlist : [];\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-left pl-3 mb-1\",\n                style: {\n                  cursor: 'pointer',\n                  overflowX: 'hidden'\n                },\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  className: \"text-link\",\n                  to: `/app/playlist/${playlist._id}`,\n                  children: playlist.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 45\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 41\n              }, this);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 29\n          }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 30\n          }, this), this.props.user != null ? this.props.user.collaborativePlaylistsID.map((playlistID, index) => /*#__PURE__*/_jsxDEV(Query, {\n            pollInterval: 500,\n            query: GET_PLAYLIST,\n            variables: {\n              playlistID: playlistID\n            },\n            fetchPolicy: \"network-only\",\n            children: ({\n              loading,\n              error,\n              data\n            }) => {\n              if (loading) return 'Loading...';\n              if (error) return `Error! ${error.message}`;else playlist = data.playlist ? data.playlist : [];\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-left pl-3 mb-1\",\n                style: {\n                  cursor: 'pointer'\n                },\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  className: \"text-link\",\n                  to: `/app/playlist/${playlist._id}`,\n                  children: playlist.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 45\n                }, this)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 41\n              }, this);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 29\n          }, this)) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }, this), loggedIn ? /*#__PURE__*/_jsxDEV(Dropdown, {\n          direction: \"right\",\n          isOpen: this.state.showDropdown,\n          toggle: this.toggleDropdown,\n          children: [/*#__PURE__*/_jsxDEV(DropdownToggle, {\n            className: \"btn bg-transparent border-0\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-playlist\",\n              children: [/*#__PURE__*/_jsxDEV(Icon.PersonCircle, {\n                color: \"white\",\n                className: \"mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 133,\n                columnNumber: 37\n              }, this), this.props.user.username]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(DropdownMenu, {\n            children: /*#__PURE__*/_jsxDEV(DropdownItem, {\n              onClick: () => {\n                fetch('/logout', {\n                  method: 'POST',\n                  headers: {\n                    'Accept': 'marvinsStudio/json',\n                    'Content-Type': 'marvinsStudio/json'\n                  }\n                }).then(this.props.history.push('/login'));\n              },\n              children: \"Logout\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/auth/google\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"image\",\n            style: {\n              margin: \"0.25rem\",\n              paddingBottom: \".75rem\"\n            },\n            src: \"https://developers.google.com/identity/images/btn_google_signin_dark_normal_web.png\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-white\",\n          children: \"Marvin's Studio\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this), this.props.user != null ? /*#__PURE__*/_jsxDEV(CreatePlaylistModal, {\n        show: this.state.show,\n        handleClose: this.handleClose,\n        handleShow: this.handleShow,\n        user: this.props.user,\n        history: this.props.history\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 23\n      }, this), /*#__PURE__*/_jsxDEV(Toast, {\n        show: this.state.showCreateToast,\n        onClose: this.handleHideCreateToast,\n        style: {\n          top: 10,\n          right: 20,\n          position: 'fixed'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Toast.Header, {\n          closeButton: true,\n          children: \"Unable To Create Playlist\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Toast.Body, {\n          className: \"bg-white rounded-bottom text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Must log in to create a playlist\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            action: \"/auth/google\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              action: \"submit\",\n              className: \"btn btn-secondary mt-2\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Toast, {\n        show: this.state.showLibraryToast,\n        onClose: this.handleHideLibraryToast,\n        style: {\n          top: 10,\n          right: 20,\n          position: 'fixed'\n        },\n        children: [/*#__PURE__*/_jsxDEV(Toast.Header, {\n          closeButton: true,\n          children: \"Unable To View Library\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Toast.Body, {\n          className: \"bg-white rounded-bottom text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Must log in to view your library\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 176,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            action: \"/auth/google\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              action: \"submit\",\n              className: \"btn btn-secondary mt-2\",\n              children: \"Login\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this);\n  }\n\n}\n\nexport default Sidebar;\nexport { GET_PLAYLIST };","map":{"version":3,"sources":["/Users/pawan/Desktop/Marvins-Studio/marvin/src/components/sidebar/Sidebar.js"],"names":["React","logo","Link","CreatePlaylistModal","gql","Query","Dropdown","DropdownItem","DropdownMenu","DropdownToggle","Icon","Toast","GET_PLAYLIST","Sidebar","Component","constructor","props","state","show","showDropdown","showCreateToast","showLibraryToast","handleShow","setState","console","log","handleClose","toggleDropdown","currDropdown","handleShowCreateToast","handleHideCreateToast","handleShowLibraryToast","handleHideLibraryToast","render","playlist","loggedIn","user","height","left","backgroundColor","width","history","push","borderRadius","marginRight","lineHeight","background","_id","overflowY","ownedPlaylistsID","map","playlistID","index","loading","error","data","message","cursor","overflowX","title","collaborativePlaylistsID","username","fetch","method","headers","then","margin","paddingBottom","top","right","position"],"mappings":"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","sourcesContent":["import React from 'react'\nimport logo from '../../icons/marvins.png'\nimport { Link } from 'react-router-dom';\nimport CreatePlaylistModal from '../modals/CreatePlaylistModal';\nimport gql from 'graphql-tag';\nimport { Query } from 'react-apollo';\nimport { Dropdown, DropdownItem, DropdownMenu, DropdownToggle } from 'reactstrap';\nimport * as Icon from 'react-bootstrap-icons'\nimport { Toast } from 'react-bootstrap';\n\nconst GET_PLAYLIST = gql`\n    query playlist($playlistID: String) {\n        playlist(id: $playlistID) {\n            _id\n            title\n        }\n    }\n`\n\nclass Sidebar extends React.Component {\n    constructor(props) {\n        super(props);\n        console.log(\"Sidebar\")\n    }\n    state = {\n        show: false,\n        showDropdown: false,\n        showCreateToast: false,\n        showLibraryToast: false\n    }\n\n    handleShow = () => {\n        this.setState({ show: true });\n        console.log(\"sidebar modal done\");\n    }\n\n    handleClose = () => {\n        this.setState({ show: false });\n        console.log(\"dosne\");\n    }\n\n    toggleDropdown = () => {\n        let currDropdown = this.state.showDropdown\n        this.setState({ showDropdown: !currDropdown })\n    }\n\n    handleShowCreateToast = () => {\n        this.setState({ showCreateToast: true })\n    }\n\n    handleHideCreateToast = () => {\n        this.setState({ showCreateToast: false })\n    }\n\n    handleShowLibraryToast = () => {\n        this.setState({ showLibraryToast: true })\n    }\n\n    handleHideLibraryToast = () => {\n        this.setState({ showLibraryToast: false })\n    }\n\n    render() {\n        let playlist;\n        let loggedIn = this.props.user != null;\n        return (\n            <nav className='sticky-top' style={{ height: \"100vh\", left: 0, backgroundColor: '#1a1a1a' }}>\n                <div className=\" p-0 text-center \" style={{ width: 200 }}>\n                    <Link to='/app/home'>\n                        <img src={logo} height={\"80vh\"} alt='' />\n                    </Link>\n                    <form action='/sidebar' method='post' onSubmit={() => {\n                        this.props.history.push('/app/search');\n                    }}>\n                        <input name='searchText' className='border border-primary px-1 py-1 my-1  ' type='text' style={{ borderRadius: 50, width: \"85%\", marginRight: 10, lineHeight: 1 }} placeholder='Search' />\n                    </form>\n                    <div className='my-1 pt-1 text-center w-100 display-block' style={{ background: '#3d8af7', height: 115 }}>\n                        <Link to='/app/home'>\n                            <button className='btn btn-outline-primary mb-1 w-75 py-1 bg-transparent btn-sidebar border-0'>\n                                <Icon.House className=\"mb-1 mr-1\" /> Home\n                            </button>\n                        </Link>\n                        {this.props.user ? <Link to={`/app/profile/${this.props.user._id}`}>\n                            <button className='btn btn-outline-primary mb-1 w-75 py-1 bg-transparent btn-sidebar border-0'>\n                                <Icon.Collection className=\"mb-1 mr-1\" />Your Library\n                            </button>                        </Link> :\n                            <button className='btn btn-outline-primary mb-1 w-75 py-1 bg-transparent btn-sidebar border-0' onClick={this.handleShowLibraryToast}> <Icon.Collection className=\"mb-1 mr-1\" />Your Library</button>\n                        }\n                        <button className='btn btn-outline-primary mb-1 w-75 py-1 bg-transparent btn-sidebar border-0'\n                            onClick={() => {\n                                if (loggedIn) this.handleShow()\n                                else this.handleShowCreateToast()\n                            }}> <Icon.PlusCircle className=\"mb-1 mr-1\" />Create Playlist</button>\n                    </div>\n\n                    <div className='text-primary'>My Playlists</div>\n                    <div className='sidebar-scroll' style={{ height: \"33vh\", overflowY: \"scroll\" }}>\n                        {this.props.user != null ? this.props.user.ownedPlaylistsID.map((playlistID, index) => (\n                            <Query pollInterval={500} query={GET_PLAYLIST} variables={{ playlistID: playlistID }} fetchPolicy='network-only'>\n                                {({ loading, error, data }) => {\n                                    if (loading) return 'Loading...';\n                                    if (error) return `Error! ${error.message}`;\n                                    else playlist = (data.playlist) ? data.playlist : [];\n                                    return (\n                                        <div key={index} className='text-left pl-3 mb-1'\n                                            style={{ cursor: 'pointer' , overflowX:'hidden'}}>\n                                            <Link className='text-link' to={`/app/playlist/${playlist._id}`}>{playlist.title}</Link>\n                                        </div>\n                                    )\n                                }}\n                            </Query>\n                        )) : <div></div>}\n                        {this.props.user != null ? this.props.user.collaborativePlaylistsID.map((playlistID, index) => (\n                            <Query pollInterval={500} query={GET_PLAYLIST} variables={{ playlistID: playlistID }} fetchPolicy='network-only'>\n                                {({ loading, error, data }) => {\n                                    if (loading) return 'Loading...';\n                                    if (error) return `Error! ${error.message}`;\n                                    else playlist = (data.playlist) ? data.playlist : [];\n                                    return (\n                                        <div key={index} className='text-left pl-3 mb-1'\n                                            style={{ cursor: 'pointer' }}>\n                                            <Link className='text-link' to={`/app/playlist/${playlist._id}`}>{playlist.title}</Link>\n                                        </div>\n                                    )\n                                }}\n                            </Query>\n                        )) : <div></div>}\n                    </div>\n                    {loggedIn ?\n                        <Dropdown direction='right' isOpen={this.state.showDropdown} toggle={this.toggleDropdown}>\n                            <DropdownToggle className='btn bg-transparent border-0'>\n                                <div className='text-playlist'>\n                                    <Icon.PersonCircle color='white' className='mr-2' />\n                                    {this.props.user.username}\n                                </div>\n                            </DropdownToggle>\n                            <DropdownMenu>\n                                <DropdownItem onClick={() => {\n                                    fetch('/logout', {\n                                        method: 'POST',\n                                        headers: {\n                                            'Accept': 'marvinsStudio/json',\n                                            'Content-Type': 'marvinsStudio/json'\n                                        }\n                                    }).then(this.props.history.push('/login'))\n                                }}>Logout</DropdownItem>\n                            </DropdownMenu>\n                        </Dropdown>\n                        :\n                        <a href=\"/auth/google\">\n                            <input type=\"image\" style={{ margin: \"0.25rem\", paddingBottom: \".75rem\" }}\n                                src=\"https://developers.google.com/identity/images/btn_google_signin_dark_normal_web.png\">\n                            </input>\n                        </a>\n                    }\n                    <div className='text-white'>Marvin's Studio</div>\n                </div>\n\n                { (this.props.user != null) ?\n                    <CreatePlaylistModal show={this.state.show} handleClose={this.handleClose} handleShow={this.handleShow}\n                        user={this.props.user} history={this.props.history} />\n                    : <div />\n                }\n                <Toast show={this.state.showCreateToast} onClose={this.handleHideCreateToast} style={{ top: 10, right: 20, position: 'fixed' }}>\n                    <Toast.Header closeButton>Unable To Create Playlist</Toast.Header>\n                    <Toast.Body className='bg-white rounded-bottom text-center'>\n                        <div>Must log in to create a playlist</div>\n                        <form action='/auth/google'>\n                            <button action=\"submit\" className='btn btn-secondary mt-2'>Login</button>\n                        </form>\n                    </Toast.Body>\n                </Toast>\n                <Toast show={this.state.showLibraryToast} onClose={this.handleHideLibraryToast} style={{ top: 10, right: 20, position: 'fixed' }}>\n                    <Toast.Header closeButton>Unable To View Library</Toast.Header>\n                    <Toast.Body className='bg-white rounded-bottom text-center'>\n                        <div>Must log in to view your library</div>\n                        <form action='/auth/google'>\n                            <button action=\"submit\" className='btn btn-secondary mt-2'>Login</button>\n                        </form>\n                    </Toast.Body>\n                </Toast>\n            </nav>\n        )\n\n    }\n}\n\nexport default Sidebar;\nexport { GET_PLAYLIST };"]},"metadata":{},"sourceType":"module"}